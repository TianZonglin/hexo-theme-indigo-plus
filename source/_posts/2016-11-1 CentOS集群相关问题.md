date: 2016-11-1 
categories: Hadoop相关
tags: [CentOS,联网,调试]
comments: true
title: CentOS集群相关问题
---

### centos ssh连不上

>出现22端口拒绝访问等问题

确保安装相关软件
可以用yum search 来查找相关ssh的软件包

要安装 openssh，openssh-servers，openssh-clients
然后启动ssh，要用service sshd start

注意要将防火墙关闭，可以直接将iptables stop

现在ssh localhost 就可以登录了

### centos ping不通外网

很大程度上是因为dns设置错误，如果在默认的dns下不能访问外网
就要在Wmware软件中虚拟网络编辑器中的NAT设置中的DNS设置添加上8.8.8.8和8.8.4.4

不需要在centos中修改配置文件（精简版安装的除外可能有部分功能被删减）

此时，centos就可以ping 通外网了

### 修改hostname主机名
需要修改两处：一处是/etc/sysconfig/network，另一处是/etc/hosts，
只修改任一处会导致系统启动异常。首先切换到root用户。
```
  ● /etc/sysconfig/network
    用任一款你喜爱的编辑器打开该文件，里面有一行 HOSTNAME=localhost.localdomain     
    (如果是默认的话），修改 localhost.localdomain 为你的主机名。
  ● /etc/hosts
    打开该文件，会有一行 127.0.0.1 localhost.localdomain localhost 。其中 127.0.0.1         
    是本地环路地址， localhost.localdomain 是主机名(hostname)，也就是你待修改的。localhost     
    是主机名的别名（alias），它会出现在Konsole的提示符下。将第二项修改为你的主机名，第三项可选。
    将上面两个文件修改完后，并不能立刻生效。如果要立刻生效的话，可以用 hostname your-hostname        作临时修改，它只是临时地修改主机名，系统重启后会恢复原样的。但修改上面两个文件是永久的，重启     系统会得到新的主机名。
  ● uname -n
    重启后查看主机名 
 
```

### 修改用户密码，等基础操作
```
[root@localhost ~]# passwd
Changing password for user root.
New password:
Retype new password:
passwd: all authentication tokens updated successfully.
```