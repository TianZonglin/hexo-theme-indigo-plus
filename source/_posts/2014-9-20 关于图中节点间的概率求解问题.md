date: 2014-9-20 
categories: 朴素贝叶斯
tags: [节点概率,贝叶斯公式,总结]
comments: true
title: 关于图中节点间的概率求解问题
---

（本文年代久远，请谨慎阅读）前提：节点是含有若干特征（小节点）的大节点，大节点间连接实际为特征间的连接

在一个网络图中，若干节点之间的概率问题有以下几种：

设现有A,B,C等若干大节点，其内特征为ai,bj,ck;


    P(A); //数出A节点发散的所有边的数量除以图中出现的总边数
    
    P(AB); //即P(A)*P(B)，原理同上
    
    P(A,B); //此为联合概率，如果AB之间不相联系，则直接为零
    
    P(A | B); //AB间相关联边数/B涉及的边数
    
    P(A | B,C); //在上条基础上求加和，待改进
    
    P(A,C | B); //与AC两节点相关联的边数/B的边数，待改进
    
    P(ai | bj); //该bj特征与ai的边数/bj涉及的边数
    
    P(ai | bj,ck); //在上条基础上求加和，待改进
    
    P(ai,bj | ck); //ck与ai，bj两特征相关联的边数/ai，bj两特征的边数，待改进

以上这么多都是区别于传统概率论中的求解方法，因为节点之间表现发生与不发生的

标致就是之间有没有边！！

### 求两个节点间的概率

此问题的前提是，节点为大节点，内有若干特征，节点间的连接（或称为连线）实际为特征之间的连线。且两节点不是孤立的，而是在一个网络（或称一个图）中。

### 方法

利用已知的特征之间的边，来分别计算边的条数，直接用条数来计算概率。

example：

    求条件概率P(A|B)，A内有 a0,a1,a2；B内有b0,b1；

现求节点B“发生”的情况下节点A发生的概率，用公式推导P(A|B)=P(AB)/P(B)；或者直接由实际出发，

可得出：

分子是AB间特征的连线条数，分母是B自己特征的全部连线条数，注意B除了与A点的特征相连外还与其他点相连。

由上述可用连线边数来求得概率。

![](http://img.blog.csdn.net/20140920155445687?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMjkzNTY0Ng==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)

但是，现有一公式如图，

并不是用的节点间数边数的方法，而是进而细化到节点内的特征之间，最底层是数特征的边数，求得是P(ai|bj)的概率，概率最后加和，看似很完美。

但有个致命问题，P(ai|bj)的每一个都是概率值，0~1，对若干项加和后极有可能大于1  !!

说明这个公式是有问题的，目前的解决办法是：求加权平均

这个平均不是所有特征数的和，而是仅仅有概率的数量，即P(ai|bj)=0时，不算入其内。

目前暂且这样处理。

以上两种已java编程实现，结果有较大差异，不过上述思路大体正确，先记于此

