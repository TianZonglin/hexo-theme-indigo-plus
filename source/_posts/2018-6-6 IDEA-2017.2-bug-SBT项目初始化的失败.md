date: 2018-6-6
categories: 研究方向
tags: [IDEA,SBT,调试]
comments: true
title: IDEA-2017.2-bug-SBT项目初始化的失败

---

![](http://static.zybuluo.com/EVA001/fkfrk94ja8m2de61r01zrsda/image_1cf8c851mr18qrhbif17c11b9.png)

这个错误出现过若干次了，每次出现都想记录一下可是都忘了，然后下一次再遇见就又要搞很久才能解决，其实这本身是`IntelliJ IDEA 2017.2`的一个`bug`，只要修改一处配置就好了。

注：先前的文章里记得有个地方对这个问题表述的不正确，有时间再改。

### 原错误信息

原错误出现的`IDEA`版本：2017.2；
原错误的出现场景：每次新建SBT项目并添加完SBT依赖之后出现；
原错误的表现：`build.sbt`文件内容解析全部是红的，并且`sbt shell`报错；
原错误报错如下：

```shell
[info] Loading settings from idea.sbt ...
[info] Loading global plugins from C:\Users\msi\.sbt\1.0\plugins
[info] Loading settings from plugins.sbt ...
[info] Loading project definition from I:\IDEA_PROJ\Visualization\project
[info] Loading settings from build.sbt ...
[info] Set current project to Visualization (in build file:/I:/IDEA_PROJ/Visualization/)
[info] sbt server started at local:sbt-server-a45abbca777ea4158128
sbt:Visualization>
[info] Defining Global / sbtStructureOptions, Global / sbtStructureOutputFile, shellPrompt
[info] The new values will be used by no settings or tasks.
[info] Reapplying settings...
[info] Set current project to Visualization (in build file:/I:/IDEA_PROJ/Visualization/)
[info] Applying State transformations org.jetbrains.sbt.CreateTasks from C:/Users/msi/.IntelliJIdea2017.2/config/plugins/Scala/launcher/sbt-structure-1.1.jar
[error] java.lang.ClassNotFoundException: org.jetbrains.sbt.CreateTasks$
[error] 	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
... ... ...
[error] 	at xsbt.boot.Boot$.main(Boot.scala:17)
[error] 	at xsbt.boot.Boot.main(Boot.scala)
[error] java.lang.ClassNotFoundException: org.jetbrains.sbt.CreateTasks$
[error] Use 'last' for the full log.
[info] shutting down server
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384M; support was removed in 8.0
```

### Bug解决方法

`File`->`Setting`->`Build Tools`->`SBT`，勾选`Use SBT Shell for ...`

![](http://static.zybuluo.com/EVA001/slhrj44smirzr12cj1597up0/image_1cf8d2bu62jnjhhffh1l1jad9.png)

### 参考

[IDEA官方社区的帖子](https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000671044-What-is-estimate-to-support-SBT-1-0-x-or-java-lang-ClassNotFoundException-org-jetbrains-sbt-CreateTasks-)

![](http://static.zybuluo.com/EVA001/m2jh242y2knn6s4a2j0dc0xb/image_1cf8dgfea130516sg196i1brl1lgc9.png)
