date: 2017-4-4
categories: Hadoop相关
tags: [VMware,调试]
comments: true
title: VMware虚拟机联网
---

>1.复制虚拟机文件
2.在VMware中分别打开三个虚拟机
3.设置NAT模式，固定IP，可上网
4.运行一下
 
## 复制虚拟机文件 
拷到本机，随便放

## 在VMware中分别打开三个虚拟机 
第一次打开时一定要选择我已移动此虚拟机！否则需要重新配置IP
如果ip变了，要么重新配ip（百度），要么删掉重新拷贝一个；
验证：打开hadoop01/02/03 使用ifconfig看ip地址分别应该是
192.168.146.130/131/132；

## 设置NAT模式，固定IP，可上网 
先改本机（win）的虚拟网卡：修改VMnet8配置如下	
![82f4a98b3ba5463cbfb74a0083801581.jpg-117.1kB][1]
再改虚拟机的网络设置：虚拟机->编辑->虚拟网络设置，如下
![7C54B6589AD649C787858F0601767DA7.jpg-120.5kB][2]
验证：三个节点打开浏览器看是否能上网，不要用ping，
如果不能上网重复第三步；

## 运行一下
三个节点分别有hadoop，zookeeper，storm，kafka，flume，maven
hadoop开：start-all.sh
hadoop关：stop-all.sh
其余开关：
先在根目录 cd cmd
zookeeper开：sh zookeeperstart.sh
zookeeper关：sh zookeeperstop.sh
kafka开：sh kafkastart.sh
kafka关：sh kafkastop.sh
storm开：stormstart.sh
storm关：stormstop.sh
对于flume的开启：
先cd /usr/local/flume
再bin/flume-ng agent --conf conf --conf-file conf/flume-conf.properties --name producer -Dflume.root.logger=INFO,console
对于flume的关闭：
直接关终端或Ctrl+C即可


  [1]: http://static.zybuluo.com/EVA001/ceasxagf6idpe1jd01sgj44m/82f4a98b3ba5463cbfb74a0083801581.jpg
  [2]: http://static.zybuluo.com/EVA001/yc2f79yzhbh1chwtms2vbi7f/7C54B6589AD649C787858F0601767DA7.jpg